var app=angular.module("ionicApp",["ionic","ngAnimate","restangular"]);app.config(function(e,t,n){e.state("main",{url:"/main","abstract":true,templateUrl:"/assets/partials/main.html"}).state("main.home",{url:"/home",views:{"home-tab":{templateUrl:"/assets/partials/home.html",controller:"homeCtrl"}}}).state("main.add",{url:"/add",views:{"add-tab":{templateUrl:"/assets/partials/add.html",controller:"addCtrl"}}}).state("main.edit",{url:"/edit/:id",views:{"home-tab":{templateUrl:"/assets/partials/edit.html",controller:"editCtrl"}}}).state("main.show",{url:"/show/:id",views:{"home-tab":{templateUrl:"/assets/partials/show.html",controller:"showCtrl"}}});t.otherwise("/main/home");n.setBaseUrl("/api")});app.controller("addCtrl",function(e,t,n){e.data={name:"",designation:"",sex:"ion-man",email:"",address:"",contact:""};e.isMan=function(){return e.data.sex=="ion-man"};e.isWoman=function(){return e.data.sex=="ion-woman"};e.addPeople=function(){var r={name:e.data.name,designation:e.data.designation,contact:parseInt(e.data.contact),sex:e.data.sex,email:e.data.email,address:e.data.address};n.all("crudlist").post(r);t.go("main.home")}});app.controller("showCtrl",function(e,t,n,r){e.data={};var i=t.id;r.one("crudone",i).get().then(function(t){e.data=t});e.goBack=function(){n.go("main.home")}});app.controller("editCtrl",function(e,t,n,r){e.data={};var i=t.id;r.one("crudone",i).get().then(function(t){e.data=t});e.isMan=function(){return e.data.sex=="ion-man"};e.isWoman=function(){return e.data.sex=="ion-woman"};e.changePeople=function(){e.data.contact=parseInt(e.data.contact);e.data.put();n.go("main.home")}});app.controller("homeCtrl",function(e,t,n){e.data={showReorder:false,showDelete:false};e.employees={};setTimeout(function(){t.all("crudlist").getList().then(function(t){e.employees=t})},100);e.toggleDelete=function(){e.data.showReorder=false;e.data.showDelete=!e.data.showDelete};e.toggleReorder=function(){e.data.showDelete=false;e.data.showReorder=!e.data.showReorder};e.moveItem=function(e,t,n){};e.onItemDelete=function(n){t.one("crudone",n.id).remove().then(function(){setTimeout(function(){t.all("crudlist").getList().then(function(t){e.employees=t})},500)})};e.goEdit=function(e){window.location="#/main/edit/"+e}})